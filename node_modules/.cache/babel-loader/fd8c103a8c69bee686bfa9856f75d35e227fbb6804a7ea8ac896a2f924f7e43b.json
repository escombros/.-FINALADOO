{"ast":null,"code":"import { EVENT_CODE, triggerEvent } from '../aria';\nclass SubMenu {\n  constructor(parent, domNode) {\n    this.parent = parent;\n    this.domNode = domNode;\n    this.subIndex = 0;\n    this.subIndex = 0;\n    this.init();\n  }\n  init() {\n    this.subMenuItems = this.domNode.querySelectorAll('li');\n    this.addListeners();\n  }\n  gotoSubIndex(idx) {\n    if (idx === this.subMenuItems.length) {\n      idx = 0;\n    } else if (idx < 0) {\n      idx = this.subMenuItems.length - 1;\n    }\n    this.subMenuItems[idx].focus();\n    this.subIndex = idx;\n  }\n  addListeners() {\n    const parentNode = this.parent.domNode;\n    Array.prototype.forEach.call(this.subMenuItems, el => {\n      el.addEventListener('keydown', event => {\n        let prevDef = false;\n        switch (event.code) {\n          case EVENT_CODE.down:\n            {\n              this.gotoSubIndex(this.subIndex + 1);\n              prevDef = true;\n              break;\n            }\n          case EVENT_CODE.up:\n            {\n              this.gotoSubIndex(this.subIndex - 1);\n              prevDef = true;\n              break;\n            }\n          case EVENT_CODE.tab:\n            {\n              triggerEvent(parentNode, 'mouseleave');\n              break;\n            }\n          case EVENT_CODE.enter:\n          case EVENT_CODE.space:\n            {\n              prevDef = true;\n              event.currentTarget.click();\n              break;\n            }\n        }\n        if (prevDef) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        return false;\n      });\n    });\n  }\n}\nexport default SubMenu;","map":{"version":3,"names":["EVENT_CODE","triggerEvent","SubMenu","constructor","parent","domNode","subIndex","init","subMenuItems","querySelectorAll","addListeners","gotoSubIndex","idx","length","focus","parentNode","Array","prototype","forEach","call","el","addEventListener","event","prevDef","code","down","up","tab","enter","space","currentTarget","click","preventDefault","stopPropagation"],"sources":["/home/jisra/Documents/escom/is/is_vue_frontend/node_modules/element-plus/es/utils/menu/submenu.js"],"sourcesContent":["import { EVENT_CODE, triggerEvent } from '../aria';\n\nclass SubMenu {\r\n    constructor(parent, domNode) {\r\n        this.parent = parent;\r\n        this.domNode = domNode;\r\n        this.subIndex = 0;\r\n        this.subIndex = 0;\r\n        this.init();\r\n    }\r\n    init() {\r\n        this.subMenuItems = this.domNode.querySelectorAll('li');\r\n        this.addListeners();\r\n    }\r\n    gotoSubIndex(idx) {\r\n        if (idx === this.subMenuItems.length) {\r\n            idx = 0;\r\n        }\r\n        else if (idx < 0) {\r\n            idx = this.subMenuItems.length - 1;\r\n        }\r\n        this.subMenuItems[idx].focus();\r\n        this.subIndex = idx;\r\n    }\r\n    addListeners() {\r\n        const parentNode = this.parent.domNode;\r\n        Array.prototype.forEach.call(this.subMenuItems, (el) => {\r\n            el.addEventListener('keydown', (event) => {\r\n                let prevDef = false;\r\n                switch (event.code) {\r\n                    case EVENT_CODE.down: {\r\n                        this.gotoSubIndex(this.subIndex + 1);\r\n                        prevDef = true;\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.up: {\r\n                        this.gotoSubIndex(this.subIndex - 1);\r\n                        prevDef = true;\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.tab: {\r\n                        triggerEvent(parentNode, 'mouseleave');\r\n                        break;\r\n                    }\r\n                    case EVENT_CODE.enter:\r\n                    case EVENT_CODE.space: {\r\n                        prevDef = true;\r\n                        event.currentTarget.click();\r\n                        break;\r\n                    }\r\n                }\r\n                if (prevDef) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }\r\n                return false;\r\n            });\r\n        });\r\n    }\r\n}\n\nexport default SubMenu;\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,YAAY,QAAQ,SAAS;AAElD,MAAMC,OAAO,CAAC;EACVC,WAAW,CAACC,MAAM,EAAEC,OAAO,EAAE;IACzB,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACA,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACC,IAAI,EAAE;EACf;EACAA,IAAI,GAAG;IACH,IAAI,CAACC,YAAY,GAAG,IAAI,CAACH,OAAO,CAACI,gBAAgB,CAAC,IAAI,CAAC;IACvD,IAAI,CAACC,YAAY,EAAE;EACvB;EACAC,YAAY,CAACC,GAAG,EAAE;IACd,IAAIA,GAAG,KAAK,IAAI,CAACJ,YAAY,CAACK,MAAM,EAAE;MAClCD,GAAG,GAAG,CAAC;IACX,CAAC,MACI,IAAIA,GAAG,GAAG,CAAC,EAAE;MACdA,GAAG,GAAG,IAAI,CAACJ,YAAY,CAACK,MAAM,GAAG,CAAC;IACtC;IACA,IAAI,CAACL,YAAY,CAACI,GAAG,CAAC,CAACE,KAAK,EAAE;IAC9B,IAAI,CAACR,QAAQ,GAAGM,GAAG;EACvB;EACAF,YAAY,GAAG;IACX,MAAMK,UAAU,GAAG,IAAI,CAACX,MAAM,CAACC,OAAO;IACtCW,KAAK,CAACC,SAAS,CAACC,OAAO,CAACC,IAAI,CAAC,IAAI,CAACX,YAAY,EAAGY,EAAE,IAAK;MACpDA,EAAE,CAACC,gBAAgB,CAAC,SAAS,EAAGC,KAAK,IAAK;QACtC,IAAIC,OAAO,GAAG,KAAK;QACnB,QAAQD,KAAK,CAACE,IAAI;UACd,KAAKxB,UAAU,CAACyB,IAAI;YAAE;cAClB,IAAI,CAACd,YAAY,CAAC,IAAI,CAACL,QAAQ,GAAG,CAAC,CAAC;cACpCiB,OAAO,GAAG,IAAI;cACd;YACJ;UACA,KAAKvB,UAAU,CAAC0B,EAAE;YAAE;cAChB,IAAI,CAACf,YAAY,CAAC,IAAI,CAACL,QAAQ,GAAG,CAAC,CAAC;cACpCiB,OAAO,GAAG,IAAI;cACd;YACJ;UACA,KAAKvB,UAAU,CAAC2B,GAAG;YAAE;cACjB1B,YAAY,CAACc,UAAU,EAAE,YAAY,CAAC;cACtC;YACJ;UACA,KAAKf,UAAU,CAAC4B,KAAK;UACrB,KAAK5B,UAAU,CAAC6B,KAAK;YAAE;cACnBN,OAAO,GAAG,IAAI;cACdD,KAAK,CAACQ,aAAa,CAACC,KAAK,EAAE;cAC3B;YACJ;QAAC;QAEL,IAAIR,OAAO,EAAE;UACTD,KAAK,CAACU,cAAc,EAAE;UACtBV,KAAK,CAACW,eAAe,EAAE;QAC3B;QACA,OAAO,KAAK;MAChB,CAAC,CAAC;IACN,CAAC,CAAC;EACN;AACJ;AAEA,eAAe/B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}